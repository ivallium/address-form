(this.webpackJsonpsolution=this.webpackJsonpsolution||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var s=n(1),c=n.n(s),r=n(9),a=n.n(r),o=(n(14),n(15),n(6)),i=n(2),d=n(0);var u=function(e){var t=e.address,n=e.time;return Object(d.jsxs)("div",{className:"address-display",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{children:"".concat(t.firstLine,", ").concat(t.secondLine,", ").concat(t.city,", ").concat(t.postcode)}),Object(d.jsx)("img",{width:10,src:"./assets/delete.png",alt:"delete",onClick:e.onRemove})]}),Object(d.jsxs)("p",{children:[" Time at address: ","".concat(n.years," ").concat("1"===n.years?"year":"years",", ").concat(n.months," ").concat("1"===n.months?"month":"months")]})]})},j=n(4),l=n.n(j),b=n(8),h="2JAuH_oj5UCkmTvKvZhAnA30092";var p=function(e){var t=e.split(", ");return{firstLine:t[0],secondLine:t[1],city:t[5]}};var O=function(e){var t=Object(s.useState)(e.address.firstLine),n=Object(i.a)(t,2),c=n[0],r=n[1],a=Object(s.useState)(e.address.secondLine),o=Object(i.a)(a,2),u=o[0],j=o[1],l=Object(s.useState)(e.address.city),b=Object(i.a)(l,2),h=b[0],p=b[1],O=Object(s.useState)(e.postcode),f=Object(i.a)(O,2),v=f[0],m=f[1];return Object(s.useEffect)((function(){r(e.address.firstLine),j(e.address.secondLine),p(e.address.city),m(e.postcode)}),[e]),Object(d.jsxs)("form",{onSubmit:function(t){return function(t){t.preventDefault(),console.log(t.target),e.addAddress(t.target[0].value,t.target[1].value,t.target[2].value,t.target[3].value)}(t)},children:[Object(d.jsx)("label",{children:"Address line 1 *"}),Object(d.jsx)("div",{className:"form-input",children:Object(d.jsx)("input",{type:"text",value:c,required:!0,onChange:function(e){return r(e.currentTarget.value)}})}),Object(d.jsx)("label",{children:"Address line 2"}),Object(d.jsx)("div",{className:"form-input",children:Object(d.jsx)("input",{type:"text",value:u,onChange:function(e){return j(e.currentTarget.value)}})}),Object(d.jsx)("label",{children:"City *"}),Object(d.jsx)("div",{className:"form-input",children:Object(d.jsx)("input",{type:"text",value:h,required:!0,onChange:function(e){return p(e.currentTarget.value)}})}),Object(d.jsx)("label",{children:"Postcode *"}),Object(d.jsx)("div",{className:"form-input",children:Object(d.jsx)("input",{type:"text",value:v,required:!0,onChange:function(e){return m(e.currentTarget.value)}})}),Object(d.jsx)("div",{className:"submit-div",children:Object(d.jsx)("input",{type:"submit",id:"submit-button",value:"Add address"})})]})};var f=function(e){var t=Object(s.useState)([]),n=Object(i.a)(t,2),c=n[0],r=n[1],a=Object(s.useState)("-1"),o=Object(i.a)(a,2),u=o[0],j=o[1],f=Object(s.useState)(null),v=Object(i.a)(f,2),m=v[0],x=v[1];return Object(s.useEffect)((function(){function t(){return(t=Object(b.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(){var t=Object(b.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:fetch("https://api.getAddress.io/find/".concat(e.postcode,"?api-key=").concat(h)).then((function(e){return e.json()})).then((function(e){x(null),r(e.addresses)})).catch((function(){return x("There was an error finding the postcode.")}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t.next=3,n();case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e.postcode]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("label",{children:"Address"}),Object(d.jsxs)("div",{className:"form-input",children:[Object(d.jsxs)("select",{name:"address",id:"address",placeholder:"Select your address",value:u,onChange:function(e){return j(e.target.value)},children:[Object(d.jsx)("option",{value:"-1",children:"Select your address"}),c.map((function(e,t){return Object(d.jsx)("option",{value:e,children:e.replace(/ ,/g,"")},"option-".concat(t))}))]}),Object(d.jsx)("img",{width:15,alt:"chevron-down",src:"./assets/chevron-down.png"})]}),"-1"!==u&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("img",{className:"double-chev",alt:"double-chevron",width:8,src:"./assets/double-chevron.png"}),Object(d.jsx)(O,{address:p(u),postcode:e.postcode,addAddress:e.addAddress})]}),""!==m&&Object(d.jsx)("p",{children:m})]})};var v=function(e){var t=Object(s.useState)(""),n=Object(i.a)(t,2),c=n[0],r=n[1],a=Object(s.useState)(e.postcode),o=Object(i.a)(a,2),u=o[0],j=o[1];Object(s.useEffect)((function(){j(e.postcode)}),[e.postcode]);var l=function(){!function(e){if(void 0===e)return!1;var t="[abcdefghijklmnoprstuwyz]",n="[abcdefghklmnopqrstuvwxy]",s="[abdefghjlnpqrstuwxyz]",c=[];c.push(new RegExp("^(bf1)(\\s*)([0-6]{1}[abdefghjlnpqrst]{1}[abdefghjlnpqrstuwzyz]{1})$","i")),c.push(new RegExp("^("+t+"{1}"+n+"?[0-9]{1,2})(\\s*)([0-9]{1}"+s+"{2})$","i")),c.push(new RegExp("^("+t+"{1}[0-9]{1}[abcdefghjkpmnrstuvwxy]{1})(\\s*)([0-9]{1}"+s+"{2})$","i")),c.push(new RegExp("^("+t+"{1}"+n+"{1}?[0-9]{1}[abehmnprvwxy]{1})(\\s*)([0-9]{1}"+s+"{2})$","i")),c.push(/^(GIR)(\s*)(0AA)$/i),c.push(/^(bfpo)(\s*)([0-9]{1,4})$/i),c.push(/^(bfpo)(\s*)(c\/o\s*[0-9]{1,3})$/i),c.push(/^([A-Z]{4})(\s*)(1ZZ)$/i),c.push(/^(ai-2640)$/i);for(var r=e,a=!1,o=0;o<c.length;o++)if(c[o].test(r)){c[o].exec(r),r=(r=RegExp.$1.toUpperCase()+" "+RegExp.$3.toUpperCase()).replace(/C\/O\s*/,"c/o "),"AI-2640"===e.toUpperCase()&&(r="AI-2640"),a=!0;break}return!!a}(u)?r("This is an invalid postcode"):(r(""),e.onSearch(u))};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("label",{children:"Postcode search"}),Object(d.jsxs)("div",{className:"form-input",children:[Object(d.jsx)("input",{type:"text",id:"postcode-input",value:u,onChange:function(e){return j(e.currentTarget.value.toUpperCase())},onKeyDown:function(e){"Enter"===e.key&&l()}}),Object(d.jsx)("img",{alt:"search",src:"./assets/magnifying-glass.png",width:15,onClick:l})]}),Object(d.jsx)("p",{children:c})]})},m=Array.from(Array(30).keys()),x=Array.from(Array(12).keys());var g=function(e){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("label",{children:"How long have you lived at your current address?"}),Object(d.jsxs)("div",{className:"time-select-div",children:[Object(d.jsxs)("div",{className:"form-input",children:[Object(d.jsx)("select",{name:"year",id:"year-select",value:e.year,onChange:function(t){return e.setYears(t.target.value)},children:m.map((function(e,t){return Object(d.jsxs)("option",{value:e,children:[e,1===t?" year":" years"]})}))}),Object(d.jsx)("img",{width:15,alt:"down",src:"./assets/chevron-down.png"})]}),Object(d.jsxs)("div",{className:"form-input",children:[Object(d.jsx)("select",{name:"month",id:"month-select",value:e.month,onChange:function(t){return e.setMonths(t.target.value)},children:x.map((function(e,t){return Object(d.jsxs)("option",{value:e,children:[e,1===t?" month":" months"]})}))}),Object(d.jsx)("img",{width:15,alt:"down",src:"./assets/chevron-down.png"})]})]})]})};var y=function(){var e=Object(s.useState)(void 0),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)([]),a=Object(i.a)(r,2),j=a[0],l=a[1],b=Object(s.useState)("0"),h=Object(i.a)(b,2),p=h[0],O=h[1],m=Object(s.useState)("0"),x=Object(i.a)(m,2),y=x[0],w=x[1];return Object(s.useEffect)((function(){c("")}),[j]),Object(d.jsx)("div",{className:"background",children:Object(d.jsxs)("div",{className:"search-container",children:[Object(d.jsx)("h3",{children:" Address Search "}),Object(d.jsx)("p",{children:"Please enter your address"}),Object(d.jsx)("div",{className:"horizontal-bar"}),Object(d.jsx)("div",{children:j.map((function(e,t){return Object(d.jsx)(u,{address:e.address,time:e.time,onRemove:function(){return function(e){l([].concat(Object(o.a)(j.slice(0,e)),Object(o.a)(j.slice(e+1))))}(t)}})}))}),Object(d.jsx)(g,{year:p,month:y,setYears:O,setMonths:w}),Object(d.jsx)(v,{postcode:n,onSearch:c}),n&&Object(d.jsx)(f,{postcode:n,addAddress:function(e,t,n,s){l([].concat(Object(o.a)(j),[{address:{firstLine:e,secondLine:t,city:n,postcode:s},time:{years:p,months:y}}])),c(""),O("0"),w("0")}})]})})};var w=function(){return Object(d.jsx)(y,{})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(w,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.73bf0766.chunk.js.map
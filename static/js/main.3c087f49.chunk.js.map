{"version":3,"sources":["address-form/address/AddressDisplay.tsx","constants.ts","utility/utility.ts","address-form/address/AddressInput.tsx","address-form/address/AddressSelect.tsx","address-form/address/postcode/PostcodeInput.tsx","address-form/time/TimeSelect.tsx","address-form/Form.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["AddressDisplay","props","address","time","className","firstLine","secondLine","city","postcode","width","src","alt","onClick","onRemove","years","months","API_KEY","formatAddress","splitAddress","split","AddressInput","useState","setFirstLine","setSecondLine","setCity","setPostcode","useEffect","onSubmit","event","preventDefault","console","log","target","addAddress","value","handleAddAddress","type","required","onChange","e","currentTarget","id","AddressSelect","addressOptions","setAddressOptions","selected","setSelected","error","setError","a","fetchAddresses","fetch","then","res","json","data","addresses","catch","updateComponent","name","placeholder","map","index","replace","PostcodeInput","handleSearchPostcode","toCheck","undefined","alpha1","alpha2","alpha5","pcexp","push","RegExp","postCode","valid","i","length","test","exec","$1","toUpperCase","$3","checkPostCode","onSearch","onKeyDown","key","Array","from","keys","TimeSelect","year","setYears","month","setMonths","Form","setAddresses","entry","slice","handleRemoveAddress","App","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.3c087f49.chunk.js","sourcesContent":["import React from 'react';\nimport { Address, Time } from '../../types/types';\n\nfunction AddressDisplay(props: { address: Address, time: Time, onRemove: () => void }) {\n\n    const {address, time} = props;\n    return (\n        <div className={\"address-display\"}>\n            <div>\n                <p>{`${address.firstLine}, ${address.secondLine}, ${address.city}, ${address.postcode}`}</p>\n                <img width={10} src={\"/assets/delete.png\"} alt={\"delete\"} onClick={props.onRemove}/>\n            </div>\n            <p> Time at address: {`${time.years} ${time.years === \"1\" ? \"year\" : \"years\"}, ${time.months} ${time.months === \"1\" ? \"month\" : \"months\"}`}</p>\n        </div>\n    );\n}\n\nexport default AddressDisplay;\n\n","export const API_KEY = \"2JAuH_oj5UCkmTvKvZhAnA30092\";","export function checkPostCode (toCheck: string | undefined) {\n\n    if (toCheck === undefined) return false;\n\n    // Permitted letters depend upon their position in the postcode.\n    var alpha1 = \"[abcdefghijklmnoprstuwyz]\";                       // Character 1\n    var alpha2 = \"[abcdefghklmnopqrstuvwxy]\";                       // Character 2\n    var alpha3 = \"[abcdefghjkpmnrstuvwxy]\";                         // Character 3\n    var alpha4 = \"[abehmnprvwxy]\";                                  // Character 4\n    var alpha5 = \"[abdefghjlnpqrstuwxyz]\";                          // Character 5\n    var BFPOa5 = \"[abdefghjlnpqrst]\";                               // BFPO alpha5\n    var BFPOa6 = \"[abdefghjlnpqrstuwzyz]\";                          // BFPO alpha6\n    \n    // Array holds the regular expressions for the valid postcodes\n    var pcexp = [];\n    \n    // BFPO postcodes\n    pcexp.push (new RegExp (\"^(bf1)(\\\\s*)([0-6]{1}\" + BFPOa5 + \"{1}\" + BFPOa6 + \"{1})$\",\"i\"));\n  \n    // Expression for postcodes: AN NAA, ANN NAA, AAN NAA, and AANN NAA\n    pcexp.push (new RegExp (\"^(\" + alpha1 + \"{1}\" + alpha2 + \"?[0-9]{1,2})(\\\\s*)([0-9]{1}\" + alpha5 + \"{2})$\",\"i\"));\n    \n    // Expression for postcodes: ANA NAA\n    pcexp.push (new RegExp (\"^(\" + alpha1 + \"{1}[0-9]{1}\" + alpha3 + \"{1})(\\\\s*)([0-9]{1}\" + alpha5 + \"{2})$\",\"i\"));\n  \n    // Expression for postcodes: AANA  NAA\n    pcexp.push (new RegExp (\"^(\" + alpha1 + \"{1}\" + alpha2 + \"{1}\" + \"?[0-9]{1}\" + alpha4 +\"{1})(\\\\s*)([0-9]{1}\" + alpha5 + \"{2})$\",\"i\"));\n    \n    // Exception for the special postcode GIR 0AA\n    pcexp.push (/^(GIR)(\\s*)(0AA)$/i);\n    \n    // Standard BFPO numbers\n    pcexp.push (/^(bfpo)(\\s*)([0-9]{1,4})$/i);\n    \n    // c/o BFPO numbers\n    pcexp.push (/^(bfpo)(\\s*)(c\\/o\\s*[0-9]{1,3})$/i);\n    \n    // Overseas Territories\n    pcexp.push (/^([A-Z]{4})(\\s*)(1ZZ)$/i);  \n    \n    // Anguilla\n    pcexp.push (/^(ai-2640)$/i);\n  \n    // Load up the string to check\n    var postCode = toCheck;\n  \n    // Assume we're not going to find a valid postcode\n    var valid = false;\n    \n    // Check the string against the types of post codes\n    for ( var i=0; i<pcexp.length; i++) {\n    \n      if (pcexp[i].test(postCode)) {\n      \n        // The post code is valid - split the post code into component parts\n        pcexp[i].exec(postCode);\n        \n        // Copy it back into the original string, converting it to uppercase and inserting a space \n        // between the inward and outward codes\n        postCode = RegExp.$1.toUpperCase() + \" \" + RegExp.$3.toUpperCase();\n        \n        // If it is a BFPO c/o type postcode, tidy up the \"c/o\" part\n        postCode = postCode.replace (/C\\/O\\s*/,\"c/o \");\n        \n        // If it is the Anguilla overseas territory postcode, we need to treat it specially\n        if (toCheck.toUpperCase() === 'AI-2640') {postCode = 'AI-2640'};\n        \n        // Load new postcode back into the form element\n        valid = true;\n        \n        // Remember that we have found that the code is valid and break from loop\n        break;\n      }\n    }\n    \n    // Return with either the reformatted valid postcode or the original invalid postcode\n    if (valid) { return true } else return false;\n  }\n  \n// Split the address and extract the lines of the address\nexport const formatAddress = (address: string) => {\n    const splitAddress = address.split(\", \");\n\n    return {\n        firstLine: splitAddress[0],\n        secondLine: splitAddress[1],\n        city: splitAddress[5]\n    }\n}","import React, { useEffect, useState } from 'react';\n\nfunction AddressInput(props: { address: any, postcode: string, addAddress: (firstLine: string, secondLine: string, city: string, postcode: string) => void }) {\n\n    const [firstLine, setFirstLine] = useState(props.address.firstLine);\n    const [secondLine, setSecondLine] = useState(props.address.secondLine);\n    const [city, setCity] = useState(props.address.city);\n    const [postcode, setPostcode] = useState(props.postcode);\n\n    useEffect(() => {\n        setFirstLine(props.address.firstLine);\n        setSecondLine(props.address.secondLine);\n        setCity(props.address.city);\n        setPostcode(props.postcode);\n    }, [props])\n\n    const handleAddAddress = (event: any) => {\n        event.preventDefault();\n        console.log(event.target);\n        props.addAddress(event.target[0].value, event.target[1].value, event.target[2].value, event.target[3].value)\n    }\n\n    return (\n        <form onSubmit={(event) => handleAddAddress(event)}>\n            <label>Address line 1 *</label>\n            <div className=\"form-input\">\n                <input type={\"text\"} value={firstLine} required onChange={(e) => setFirstLine(e.currentTarget.value)}/>\n            </div>\n\n            <label>Address line 2</label>\n            <div className=\"form-input\">\n                <input type={\"text\"} value={secondLine} onChange={(e) => setSecondLine(e.currentTarget.value)}/>\n            </div>\n\n            <label>City *</label>\n            <div className=\"form-input\">\n                <input type={\"text\"} value={city} required onChange={(e) => setCity(e.currentTarget.value)}/>\n            </div>\n\n            <label>Postcode *</label>\n            <div className=\"form-input\">\n                <input type={\"text\"} value={postcode} required onChange={(e) => setPostcode(e.currentTarget.value)}/>\n            </div>\n\n            <div className={\"submit-div\"}>\n                <input type=\"submit\" id={\"submit-button\"} value=\"Add address\"/>\n            </div>\n\n        </form>\n    );\n}\n\nexport default AddressInput;\n\n","import React, { ChangeEvent, useEffect, useState } from 'react';\nimport { API_KEY } from '../../constants';\nimport { formatAddress } from '../../utility/utility';\nimport AddressInput from './AddressInput';\n\nfunction AddressSelect(props: { postcode: string, addAddress: (firstLine: string, secondLine: string, city: string, postcode: string) => void }) {\n\n    const [addressOptions, setAddressOptions] = useState([]);\n    const [selected, setSelected] = useState(\"-1\");\n    const [error, setError] = useState<null | string>(null);\n\n    \n\n    useEffect(() => {\n        async function updateComponent() {\n\n            const fetchAddresses = async () => {\n                fetch(`https://api.getAddress.io/find/${props.postcode}?api-key=${API_KEY}`)\n                    .then((res) => res.json())\n                    .then((data) => { setError(null); setAddressOptions(data.addresses); })\n                    .catch(() => setError(\"There was an error finding the postcode.\"))\n            }\n\n            await fetchAddresses();\n        }\n        updateComponent();\n    }, [props.postcode])\n\n\n    return (\n        <>\n            <label>Address</label>\n            \n            <div className=\"form-input\">\n                <select name=\"address\" id=\"address\" placeholder=\"Select your address\" value={selected} onChange={(event: ChangeEvent<HTMLSelectElement>) => setSelected(event.target.value)}>\n                    <option value=\"-1\">Select your address</option>\n                    {addressOptions.map((address: string, index: number) => (\n                        <option key={`option-${index}`} value={address}>{address.replace(/ ,/g, \"\")}</option>\n                    ))}\n                </select>\n                <img width={15} alt={\"chevron-down\"} src=\"/assets/chevron-down.png\"/>\n            </div>\n\n            <img className=\"double-chev\" alt={\"double-chevron\"} width={8} src={\"/assets/double-chevron.png\"}/>\n\n            { selected !== \"-1\" && \n                <AddressInput \n                    address={formatAddress(selected)} \n                    postcode={props.postcode} \n                    addAddress={props.addAddress}\n                />\n            }\n\n            { error !== \"\" && <p>{error}</p>}\n        \n        </>\n\n    );\n}\n\nexport default AddressSelect;\n\n","import React, { Dispatch, SetStateAction, useEffect, useState } from 'react';\nimport { checkPostCode } from '../../../utility/utility';\n\nfunction PostcodeInput(props: { postcode: string | undefined, onSearch: Dispatch<SetStateAction<string | undefined>> }) {\n\n    const [error, setError] = useState(\"\");\n    const [postcode, setPostcode] = useState(props.postcode);\n\n    useEffect(() => {\n        setPostcode(props.postcode)\n    }, [props.postcode])\n\n    const handleSearchPostcode = (): void => {\n        if (checkPostCode(postcode)) {\n            setError(\"\");\n            props.onSearch(postcode)\n        } else {\n            setError(\"This is an invalid postcode\");\n        }\n    }\n\n    const handleKeyDown = (event: any) => {\n        if (event.key === 'Enter') {\n          handleSearchPostcode()\n        } \n      }\n\n    return (\n        <>\n            <label>Postcode search</label>\n            <div className=\"form-input\">\n                <input type={\"text\"} id={\"postcode-input\"} value={postcode} onChange={(e) => setPostcode(e.currentTarget.value.toUpperCase())} onKeyDown={handleKeyDown}/>\n                <img alt={\"search\"} src=\"/assets/magnifying-glass.png\" width={15} onClick={handleSearchPostcode}/>\n            </div>\n            <p>{error}</p>\n        </>\n    );\n}\n\nexport default PostcodeInput;\n\n","import React, { Dispatch, SetStateAction } from 'react';\n\nconst years = Array.from(Array(30).keys())\nconst months = Array.from(Array(12).keys())\n\n\nfunction TimeSelect(props: { year: string, month: string, setMonths: Dispatch<SetStateAction<string>>, setYears: Dispatch<SetStateAction<string>> }) {\n\n    return (\n        <>\n        <label>How long have you lived at your current address?</label>\n        <div className=\"time-select-div\">\n            <div className=\"form-input\">\n                <select name=\"year\" id=\"year-select\" value={props.year} onChange={(e) => props.setYears(e.target.value)}>\n                    {years.map((year: number, index: number) => (\n                        <option value={year}>{year}{index === 1 ? \" year\" : \" years\"}</option>\n                    ))}\n                </select>\n                <img width={15} alt={\"down\"} src=\"/assets/chevron-down.png\"/>\n\n            </div>\n            <div className=\"form-input\">\n                <select name=\"month\" id=\"month-select\" value={props.month} onChange={(e) => props.setMonths(e.target.value)}>\n                    {months.map((month: number, index: number) => (\n                        <option value={month}>{month}{index === 1 ? \" month\" : \" months\"}</option>\n                    ))}\n                </select>\n                <img width={15} alt={\"down\"} src=\"/assets/chevron-down.png\"/>\n            </div>\n        </div>\n        </>\n    );\n}\n\nexport default TimeSelect;\n\n","import React, { useEffect, useState } from 'react';\nimport { AddressEntry } from '../types/types';\nimport AddressDisplay from './address/AddressDisplay';\nimport AddressSelect from './address/AddressSelect';\nimport PostcodeInput from './address/postcode/PostcodeInput';\nimport TimeSelect from './time/TimeSelect';\n\nfunction Form() {\n\n    const [postcode, setPostcode] = useState<string | undefined>(undefined);\n    const [addresses, setAddresses] = useState<AddressEntry[]>([]);\n    const [years, setYears] = useState<string>(\"0\")\n    const [months, setMonths] = useState<string>(\"0\")\n\n    useEffect(() => {\n        setPostcode(\"\");\n    }, [addresses])\n\n    const handleAddAddress = (firstLine: string, secondLine: string, city: string, postcode: string) => {\n        setAddresses([...addresses, { address: { firstLine, secondLine, city, postcode }, time: { years, months } }]);\n        setPostcode(\"\");\n        setYears(\"0\");\n        setMonths(\"0\");\n    }\n\n    const handleRemoveAddress = (index: number) => {\n        setAddresses([...addresses.slice(0, index), ...addresses.slice(index + 1)])\n    }\n\n\n    return (\n        <div className=\"background\">\n            <div className=\"search-container\">\n                <h3> Address Search </h3>\n                <p>Please enter your address</p>\n                <div className={\"horizontal-bar\"}></div>\n                \n                <div>\n                    {\n                        addresses.map((entry: AddressEntry, index: number) => {\n                            return <AddressDisplay address={entry.address} time={entry.time} onRemove={() => handleRemoveAddress(index)}/>\n                        })\n                    }\n                </div>\n                \n\n                <TimeSelect \n                    year={years} \n                    month={months}\n                    setYears={setYears}\n                    setMonths={setMonths}\n                />\n\n                <PostcodeInput\n                    postcode={postcode} \n                    onSearch={setPostcode}\n                />\n\n                {\n                    postcode && \n\n                    <AddressSelect \n                        postcode={postcode} \n                        addAddress={handleAddAddress}\n                    />\n                } \n\n            </div>\n        </div>\n    );\n}\n\nexport default Form;\n","import React from 'react';\r\nimport './App.css';\r\nimport './css/styles.css';\r\nimport Form from './address-form/Form';\r\n\r\nfunction App() {\r\n  return (\r\n    <Form/>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n      <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}